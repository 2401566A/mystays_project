{% extends 'mystays/base.html' %}

{% block title_block %}
    MyReviews
{% endblock %}

{% block body_block %}
    {% if selected_user == user %}
        <h1>My Account</h1>
    {% else %}
        <h1>{{ selected_user.username }}'s Account</h1>
    {% endif %}

    <div>
        <img src="{{ MEDIA_URL }}{{user_profile.picture}}"
                width="300"
                height="300"
                alt="{{ selected_user.username }}'s profile picture" />
        <br />
        Username: {{ selected_user.username }}<br />
        Email: {{ selected_user.email }}<br />

        {% if selected_user == user %}
        <a href="{% url 'mystays:edit_account' user.username %}">Edit Details</a><br />
        <a href="{% url 'mystays:post_stay' user.username %}">Post a New Stay</a><br />
        <a href="{% url 'mystays:posted_stays' user.username %}">My Stays</a><br />
        {% endif %}
    </div>

    <div>
        <h2>Ratings and Reviews</h2>
        {% if my_reviews %}
            {% for review in my_reviews %}
                <strong>{{ review.title }}</strong> Overall: {{ review.impression }}/10<br />
                {{ review.comment }}<br />
                Location: {{ review.locationRating }}/10<br />
                Cleanliness: {{ review.cleanliness }}/10<br />
                Accuracy of Description: {{ review.descripAccuracy }}/10<br />
                Cost Value: {{ review.costRating }}/10<br />
                <br />
            {% endfor %}
        {% else %}
            <strong>This user has not rated or reviewed any stays.</strong>
        {% endif %}
    </div>
{% endblock %}
